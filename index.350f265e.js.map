{"mappings":"AAWA,MAAMA,EAAgBC,SAASC,cAAc,SAE7C,IAAIC,EAAe,IAInBC,iBACE,KAgBFA,iBACE,IACE,MAAMC,EAAS,IAAIC,gBAAgB,CACjCC,QArCa,qCAuCTC,QAAiBC,MAAMC,8CAAkCL,GACzDM,QAAeH,EAASI,OAC9BC,QAAQC,IAAI,iCAAkCH,GAC9CR,EAAeQ,EAAOI,OAAOC,SAAWL,EAAOI,OAAOE,aAAa,GACnEJ,QAAQC,IAAI,+CAAgDX,E,CAC5D,MAAOe,GACPL,QAAQC,IAAI,mBAAoBI,E,EA1BhCC,GAgCJf,iBACE,IACE,MAAMC,EAAS,IAAIC,gBAAgB,CACjCC,QAtDa,qCAwDTC,QAAiBC,MAAMC,mDAAiDL,GACxEe,QAAaZ,EAASI,OAC5BC,QAAQC,IAAI,kCAAmCM,GAC/C,IAAIC,EAAYlB,EAAeiB,EAAKE,QAAQ,GAAGC,YAC/CV,QAAQC,IAAI,0CAA2CO,GAEvDR,QAAQC,IAAI,6DACZ,IAAIU,EAAY,GAoBhB,OAnBAJ,EAAKE,QAAQG,SAAQC,IA3DzB,IAAoCC,EA4D9BH,GAAW,iHAImBrB,IAAeuB,EAAOH,4FAG1BG,EAAOE,yGAEUF,EAAOG,+DArEpBF,EAsE2CD,EAAOI,aArEhEC,OAAOC,KAAKC,MAAMN,EAAQ,OAAS,mGA0ElD,IAEH3B,EAAckC,UAAYV,EACnBJ,C,CACP,MAAOF,GACPL,QAAQC,IAAI,qBAAsBI,E,EAjElCiB,GACCC,MAAKhB,IACJ,MAAMiB,EAAkBpC,SAASqC,iBAAiB,YAClDzB,QAAQC,IAAI,gHACZuB,EAAgBZ,SAAQc,KAmE9BnC,eAAsCoC,GACpC,IACE,MAAMnC,EAAS,IAAIC,gBAAgB,CACjCC,QA9Fa,qCAgGTC,QAAiBC,MAAMC,sCAAqB8B,EAAOC,QAAQC,QAAU,IAAMrC,GAC3EsC,QAAoBnC,EAASI,OAEnCC,QAAQC,IAAI,yCAA0C6B,GACtD,IAAIC,EAAe,IAAIC,KAAKF,EAAYG,cACxC,MAAMC,EAAcJ,EAAYK,OAAOC,KAAIC,GAAiBA,EAAMC,OAClEtC,QAAQC,IAAI,oEAAqEiC,GACjFP,EAAON,UAAY,GAAGa,EAAYK,KAAK,gBAAgBR,EAAaS,e,CACpE,MAAOnC,GACPL,QAAQC,IAAI,2BAA4BI,E,EAhFpCoC,CAAuBf,EAAG,GAC1B,G,CAEJ,MAAOrB,GACPL,QAAQC,IAAI,aAAcI,E,EAd9BqC","sources":["src/js/fetchMovie.js"],"sourcesContent":["const API_KEY_V3 = \"bdba5342660bdd1dac5d09b885091a0c\";\nconst API_KEY_V4 = \"\";\nconst API_URL = \"https://api.themoviedb.org/3/\";\n\n//---------------------ROUNDING METHOD--------------------------\nfunction roundingMethodToFirstPlace(value){\n  let roundingValue = Number(Math.round(value + 'e+1') + 'e-1');\n  return roundingValue\n};\n//--------------------------------------------------------------\n\nconst filmsListHtml = document.querySelector(\".grid\");\n\nlet tempImageUrl = \"\";\n\nfetchApi();\n\nasync function fetchApi(){\n  try {\n    fetchApiConfig();\n    fetchApiTrending()\n    .then(film => {\n      const filmDetailsHtml = document.querySelectorAll(\".details\");\n      console.log(\"fetchApi -> fetchApiTrending.then here forEach start to get film details with fetchApiGetDetailsFilm methode\");\n      filmDetailsHtml.forEach(el => {\n        fetchApiGetDetailsFilm(el)\n      })\n    })\n  } catch (error) {\n    console.log(\"fetchApi: \", error);\n  }\n};\n\n// ------------------get image link methode---------------------\nasync function fetchApiConfig(){\n  try {\n    const params = new URLSearchParams({\n      api_key: API_KEY_V3\n    });\n    const response = await fetch(API_URL + \"configuration\" + \"?\" + params);\n    const config = await response.json();\n    console.log(\"fetchApiConfig object content:\", config);\n    tempImageUrl = config.images.base_url + config.images.poster_sizes[3];\n    console.log(\"function fetchApiConfig base url to get img:\", tempImageUrl);\n  } catch (error) {\n    console.log(\"fetchApiConfig: \", error);\n  }\n};\n// ------------------------------------------------------------\n\n// -------------------get trending films-----------------------\nasync function fetchApiTrending(){\n  try {\n    const params = new URLSearchParams({\n      api_key: API_KEY_V3\n    });\n    const response = await fetch(API_URL + \"trending/\" + \"movie/\" + \"day\" + \"?\" + params);\n    const film = await response.json();\n    console.log(\"fetchApiTrending object content\", film);\n    let imageLink = tempImageUrl + film.results[0].poster_path;\n    console.log(\"fetchApiTrending completed link to img:\", imageLink);\n\n    console.log(\"fetchApiTrending forEach start to create HTML li>img tags\");\n    let filmItems = \"\";\n    film.results.forEach(result => {\n      filmItems+=`\n      <li>\n        <figure class=\"card\">\n          <div class=\"thumb\">\n            <img class=\"img\" src=\"${tempImageUrl}${result.poster_path}\" />\n          </div>\n          <figcaption>\n            <h3 class=\"title\">${result.title}</h3>\n            <div class=\"details-wrapper\">\n              <p class=\"details\" data-film_id=\"${result.id}\"></p>\n              <div class=\"rating rating--visible\">${roundingMethodToFirstPlace(result.vote_average)}</div>\n            </div>\n          </figcaption>\n        </figure>\n      </li>\n      `\n    });\n    filmsListHtml.innerHTML = filmItems;\n    return film\n  } catch (error) {\n    console.log(\"fetchApiTrending: \", error);\n  }\n};\n// ---------------------------------------------------------------------\n\n// --------------------get genres and year methode----------------------\nasync function fetchApiGetDetailsFilm(elHtml){\n  try {\n    const params = new URLSearchParams({\n      api_key: API_KEY_V3\n    });\n    const response = await fetch(API_URL + \"movie/\" + elHtml.dataset.film_id + \"?\" + params)\n    const filmDetails = await response.json();\n\n    console.log(\"fetchApiGetDetailsFilm object content:\", filmDetails);\n    let yearWithDate = new Date(filmDetails.release_date);\n    const genresArray = filmDetails.genres.map(genre => {return genre.name});\n    console.log(\"genres array - result .map methode inside fetchApiGetDetailsFilm:\", genresArray);\n    elHtml.innerHTML = `${genresArray.join(\", \")} &#124; ${yearWithDate.getFullYear()}`\n  } catch (error) {\n    console.log(\"fetchApiGetDetailsFilm: \", error);\n  }\n};\n// ---------------------------------------------------------------------"],"names":["$a0cac08c197f45b6$var$filmsListHtml","document","querySelector","$a0cac08c197f45b6$var$tempImageUrl","async","params","URLSearchParams","api_key","response","fetch","$a0cac08c197f45b6$var$API_URL","config","json","console","log","images","base_url","poster_sizes","error","$a0cac08c197f45b6$var$fetchApiConfig","film","imageLink","results","poster_path","filmItems","forEach","result","value","title","id","vote_average","Number","Math","round","innerHTML","$a0cac08c197f45b6$var$fetchApiTrending","then","filmDetailsHtml","querySelectorAll","el","elHtml","dataset","film_id","filmDetails","yearWithDate","Date","release_date","genresArray","genres","map","genre","name","join","getFullYear","$a0cac08c197f45b6$var$fetchApiGetDetailsFilm","$a0cac08c197f45b6$var$fetchApi"],"version":3,"file":"index.350f265e.js.map"}