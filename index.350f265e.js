const e=document.querySelector(".grid");let t="";!async function(){try{!async function(){try{const e=new URLSearchParams({api_key:"bdba5342660bdd1dac5d09b885091a0c"}),i=await fetch("https://api.themoviedb.org/3/configuration?"+e),a=await i.json();console.log("fetchApiConfig object content:",a),t=a.images.base_url+a.images.poster_sizes[3],console.log("function fetchApiConfig base url to get img:",t)}catch(e){console.log("fetchApiConfig: ",e)}}(),async function(){try{const i=new URLSearchParams({api_key:"bdba5342660bdd1dac5d09b885091a0c"}),a=await fetch("https://api.themoviedb.org/3/trending/movie/day?"+i),n=await a.json();console.log("fetchApiTrending object content",n);let o=t+n.results[0].poster_path;console.log("fetchApiTrending completed link to img:",o),console.log("fetchApiTrending forEach start to create HTML li>img tags");let c="";return n.results.forEach((e=>{var i;c+=`\n      <li>\n        <figure class="card">\n          <div class="thumb">\n            <img class="img" src="${t}${e.poster_path}" />\n          </div>\n          <figcaption>\n            <h3 class="title">${e.title}</h3>\n            <div class="details-wrapper">\n              <p class="details" data-film_id="${e.id}"></p>\n              <div class="rating rating--visible">${i=e.vote_average,Number(Math.round(i+"e+1")+"e-1")}</div>\n            </div>\n          </figcaption>\n        </figure>\n      </li>\n      `})),e.innerHTML=c,n}catch(e){console.log("fetchApiTrending: ",e)}}().then((e=>{const t=document.querySelectorAll(".details");console.log("fetchApi -> fetchApiTrending.then here forEach start to get film details with fetchApiGetDetailsFilm methode"),t.forEach((e=>{!async function(e){try{const t=new URLSearchParams({api_key:"bdba5342660bdd1dac5d09b885091a0c"}),i=await fetch("https://api.themoviedb.org/3/movie/"+e.dataset.film_id+"?"+t),a=await i.json();console.log("fetchApiGetDetailsFilm object content:",a);let n=new Date(a.release_date);const o=a.genres.map((e=>e.name));console.log("genres array - result .map methode inside fetchApiGetDetailsFilm:",o),e.innerHTML=`${o.join(", ")} &#124; ${n.getFullYear()}`}catch(e){console.log("fetchApiGetDetailsFilm: ",e)}}(e)}))}))}catch(e){console.log("fetchApi: ",e)}}();
//# sourceMappingURL=index.350f265e.js.map
